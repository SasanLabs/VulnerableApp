function addingEventListenerToFetchData() {
  document
    .getElementById("fetchDetails")
    .addEventListener("click", function () {
      let userId = document.getElementById("userId").value;
      let url = getUrlForVulnerabilityLevel();
      let queryParams = "?userId=" + userId;

      let loggedInUserField = document.getElementById("loggedInUser");

      if (loggedInUserField) {
        queryParams += "&loggedInUser=" + loggedInUserField.value;
      }

      doGetAjaxCall(fetchDataCallback, url + queryParams, true);
    });
}

addingEventListenerToFetchData();

function fetchDataCallback(data) {
  document.getElementById("response").innerHTML = data.content;
}
